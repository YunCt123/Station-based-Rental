/* EV Rental Design System - Tailwind v4 merged */

/* Fonts */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

/* Tailwind v4 */
@import "tailwindcss";
/* @plugin "tailwindcss-animate"; */

/* =========================
   THEME TOKENS (Tailwind v4)
   ========================= */
@theme {
  /* Base / surface */
  --color-background: hsl(0 0% 100%);
  --color-foreground: hsl(220 13% 18%);

  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(220 13% 18%);

  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(220 13% 18%);

  /* EV Blue theme (primary) */
  --color-primary: hsl(221.2 83.2% 53.3%);     /* gần #3b82f6 */
  --color-primary-foreground: hsl(0 0% 100%);
  --color-primary-light: hsl(213.3 93.9% 67.8%);
  --color-primary-dark: hsl(224.3 76.3% 48%);

  /* Success (EV Green) */
  --color-success: hsl(142.1 76.2% 36.3%);
  --color-success-foreground: hsl(0 0% 100%);
  --color-success-light: hsl(142.1 70.6% 45.3%);

  /* Secondary / neutrals */
  --color-secondary: hsl(220 14% 96%);
  --color-secondary-foreground: hsl(220 13% 18%);

  --color-muted: hsl(220 14% 96%);
  --color-muted-foreground: hsl(220 9% 46%);

  --color-accent: hsl(210 100% 97%);
  --color-accent-foreground: hsl(210 100% 55%);

  /* Status colors */
  --color-warning: hsl(32.1 94.6% 43.7%);
  --color-warning-foreground: hsl(0 0% 100%);

  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(0 0% 100%);

  /* Interface */
  --color-border: hsl(214.3 31.8% 91.4%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(221.2 83.2% 53.3%);

  /* Battery status */
  --color-battery-high: hsl(142.1 76.2% 36.3%);
  --color-battery-medium: hsl(45 93% 47%);
  --color-battery-low: hsl(0 84.2% 60.2%);

  /* Radius */
  --radius: 0.75rem;

  /* Shadows (custom props, dùng trong @utility) */
  --shadow-card: 0 4px 6px -1px color-mix(in oklab, var(--color-primary) 10%, transparent),
                 0 2px 4px -1px color-mix(in oklab, var(--color-primary) 6%, transparent);
  --shadow-hover: 0 10px 15px -3px color-mix(in oklab, var(--color-primary) 10%, transparent),
                  0 4px 6px -2px color-mix(in oklab, var(--color-primary) 5%, transparent);
  --shadow-premium: 0 20px 25px -5px color-mix(in oklab, var(--color-primary) 15%, transparent),
                    0 10px 10px -5px color-mix(in oklab, var(--color-primary) 4%, transparent);

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
  --gradient-success: linear-gradient(135deg, var(--color-success), color-mix(in oklab, var(--color-success) 80%, black));
  --gradient-hero: linear-gradient(135deg, color-mix(in oklab, var(--color-primary) 90%, transparent),
                                           color-mix(in oklab, var(--color-success) 80%, transparent));
  --gradient-card: linear-gradient(145deg, var(--color-card), var(--color-secondary));
}

/* Dark mode tokens */
.dark {
  --color-background: hsl(222.2 84% 4.9%);
  --color-foreground: hsl(210 40% 98%);

  --color-card: hsl(222.2 84% 4.9%);
  --color-card-foreground: hsl(210 40% 98%);

  --color-popover: hsl(222.2 84% 4.9%);
  --color-popover-foreground: hsl(210 40% 98%);

  --color-primary: hsl(217.2 91.2% 59.8%);
  --color-primary-foreground: hsl(222.2 84% 4.9%);

  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);

  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);

  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);

  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(210 40% 98%);

  --color-border: hsl(217.2 32.6% 17.5%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(224.3 76.3% 48%);

  --color-battery-high: hsl(142.1 70.6% 45.3%);
  --color-battery-medium: hsl(45 93% 57%);
  --color-battery-low: hsl(0 84.2% 70.2%);
}

/* =========================
   BASE
   ========================= */
@layer base {
  * { @apply border-border; }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: "Inter", -apple-system, BlinkMacSystemFont, ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  }
}

/* =========================
   UTILITIES / COMPONENTS
   (migrate từ file cũ)
   ========================= */

/* Buttons */
@utility btn-hero {
  @apply bg-gradient-to-r from-primary to-primary-dark text-primary-foreground
         font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl
         transition-all duration-300 hover:scale-105;
}
@utility btn-success {
  @apply bg-gradient-to-r from-success to-green-600 text-success-foreground
         font-semibold px-6 py-3 rounded-lg shadow-md hover:shadow-lg
         transition-all duration-300;
}
@utility btn-outline-primary {
  @apply border-2 border-primary text-primary bg-transparent
         hover:bg-primary hover:text-primary-foreground
         font-semibold px-6 py-3 rounded-lg transition-all duration-300;
}

/* Cards */
@utility card-hover {
  @apply bg-card border border-border rounded-xl p-6 shadow-sm
         hover:shadow-md transition-all duration-300 hover:-translate-y-1;
}
@utility card-premium {
  @apply border border-border rounded-xl p-6 shadow-lg hover:shadow-xl
         transition-all duration-300;
  background: var(--gradient-card);
}

/* Badges (status) */
@utility badge-available {
  @apply bg-success/10 text-success border border-success/20
         px-3 py-1 rounded-full text-sm font-medium;
}
@utility badge-rented {
  @apply bg-warning/10 text-warning border border-warning/20
         px-3 py-1 rounded-full text-sm font-medium;
}
@utility badge-maintenance {
  @apply bg-destructive/10 text-destructive border border-destructive/20
         px-3 py-1 rounded-full text-sm font-medium;
}

/* Form */
@utility input-modern {
  @apply w-full px-4 py-3 border border-input rounded-lg bg-background
         focus:ring-2 focus:ring-primary focus:border-primary
         transition-all duration-200;
}

/* Text / bg helpers */
@utility text-gradient {
  @apply bg-clip-text text-transparent;
  background-image: linear-gradient(to right, var(--color-primary), var(--color-success));
}
@utility bg-hero {
  background: var(--gradient-hero);
}

/* Shadows */
@utility shadow-card { box-shadow: var(--shadow-card); }
@utility shadow-hover { box-shadow: var(--shadow-hover); }
@utility shadow-premium { box-shadow: var(--shadow-premium); }

/* Animations (shadcn animate-compatible) */
/* @utility animate-fade-in { @apply animate-in fade-in duration-500; }
@utility animate-slide-up { @apply animate-in slide-in-from-bottom-4 duration-500; }
@utility animate-scale { @apply animate-in zoom-in-95 duration-300; } */

/* EV themed gradients (giữ từ file mới) */
@utility gradient-electric {
  background: linear-gradient(135deg, #3b82f6 0%, #00d4aa 50%, #22c55e 100%);
}
@utility gradient-battery {
  background: linear-gradient(90deg, #22c55e 0%, #f59e0b 50%, #ef4444 100%);
}

/* Battery shimmer (giữ từ file mới) */
@utility battery-indicator {
  position: relative;
  overflow: hidden;
}
.battery-indicator::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
  animation: charging 2s ease-in-out infinite;
}

/* Map pulse (giữ từ file cũ) */
.pulse-animation { animation: pulse 2s infinite; }

/* Keyframes */
@keyframes pulse {
  0%   { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
  70%  { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
  100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
}
@keyframes charging {
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* === Custom animations (no external plugin needed) === */
@keyframes tw-fade-in {
  from { opacity: 0 }
  to { opacity: 1 }
}

@keyframes tw-slide-up {
  from { transform: translateY(1rem); opacity: 0 }
  to { transform: translateY(0); opacity: 1 }
}

@keyframes tw-zoom-in {
  from { transform: scale(0.95); opacity: 0.8 }
  to { transform: scale(1); opacity: 1 }
}

@utility animate-fade-in {
  animation: tw-fade-in 0.5s ease both;
}

@utility animate-slide-up {
  animation: tw-slide-up 0.5s ease both;
}

@utility animate-scale {
  animation: tw-zoom-in 0.3s ease both;
}

/* Leaflet z-index fixes (giữ từ file mới) */
.leaflet-routing-container { display: none !important; }
.leaflet-tile-pane { z-index: 200; }
.leaflet-overlay-pane,
.leaflet-shadow-pane,
.leaflet-marker-pane,
.leaflet-tooltip-pane,
.leaflet-popup-pane { z-index: 400 !important; }